<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="keywords" content="">
	<meta name="author" content="">
	<meta name="robots" content="">
	<meta name="description" content="Industry - Factory & Industrial HTML Template">
	<meta property="og:title" content="Industry - Factory & Industrial HTML Template">
	<meta property="og:description" content="Industry - Factory & Industrial HTML Template">
	<meta property="og:image" content="https://industry.dexignzone.com/xhtml/social-image.png">
	<meta name="format-detection" content="telephone=no">
	
	<!-- FAVICONS ICON -->
	<link rel="icon" href="../images/favicon.ico" type="image/x-icon">
	<link rel="shortcut icon" type="image/x-icon" href="../images/favicon.png">
	
	<!-- PAGE TITLE HERE -->
	<title>弗劳恩科服-SCANCO CT系列产品</title>
	
	<!-- MOBILE SPECIFIC -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<!--[if lt IE 9]>
	<script src="js/html5shiv.min.js"></script>
	<script src="js/respond.min.js"></script>
	<![endif]-->
	
		<!-- STYLESHEETS -->
	<link rel="stylesheet" type="text/css" href="../css/plugins.css">
	<link rel="stylesheet" type="text/css" href="../css/style.css">
	<link class="skin" rel="stylesheet" type="text/css" href="../css/skin/skin-8.css">
	<link rel="stylesheet" type="text/css" href="../css/templete.css">
    <link rel="stylesheet" type="text/css" href="../css/star-rating-svg.css">
	<!-- Google Font -->
	<style>
        .modal-content {
      border-radius: 10px;
      text-align: center;
      padding: 20px;
    }
    .modal-img {
      max-width: 100%;
      height: auto;
      margin-bottom: 15px;
    }
    .modal-text {
      font-size: 18px;
      color: #333;
    }

    .navbar-nav a {
        font-family: "Arial Unicode MS", "Segoe UI", "Noto Sans", sans-serif !important;
    }
    .navbar-nav a {
        text-transform: none !important;
        font-variant: normal !important;
    }
    .navbar-nav a::first-letter {
        font-family: inherit !important;
    }

    .spec-table {
        width: 100%;
        max-width: 900px;
        margin-left: 0;
        margin-right: auto;
        border-collapse: collapse;
        font-family: "Segoe UI", "Helvetica Neue", sans-serif;
        font-size: 16px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .spec-table caption {
        caption-side: top; /* 指定caption显示在顶部 */
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 15px;
        text-align: center;
        color: #333;
    }

    .spec-table th,
    .spec-table td {
        padding: 12px 16px;
        border: 1px solid #ddd;
        text-align: left;
        vertical-align: top;
    }

    .spec-table th {
        background-color: #f6f8fa;
        font-weight: bold;
        width: 30%;
        color: #222;
    }

    .spec-table td {
        background-color: #fff;
    }

    .spec-table tr:nth-child(even) td {
        background-color: #fafafa;
    }

    .spec-table .optional {
        background-color: #f0f9ff;
        font-weight: bold;
        text-align: center;
        color: #0a58ca;
    }
	@import url('https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i|Playfair+Display:400,400i,700,700i,900,900i|Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i|Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i|Roboto+Condensed:300,300i,400,400i,700,700i|Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i&display=swap');
	</style>
	
</head>
<body id="bg">
<div class="page-wraper">
<div id="loading-area"></div>
    <header class="site-header mo-left overlay header navstyle4">
        <!-- main header -->
        <div class="sticky-header main-bar-wraper navbar-expand-lg">
            <div class="main-bar clearfix ">
                <div class="container clearfix">
                    <!-- website logo -->
                    <div class="logo-header mostion logo-white">
                        <a href="../index.html"><img src="../images/ct_logo2.png" style="scale:1.8;" alt=""></a>
                    </div>
                    <!-- nav toggle button -->
                    <button class="navbar-toggler collapsed navicon justify-content-end" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>

                    <!-- main nav -->
                    <div class="header-nav navbar-collapse collapse justify-content-end" id="navbarNavDropdown">
                        <div class="logo-header d-md-block d-lg-none">
                            <a href="../index.html"><img src="../images/logo-8.png" alt=""></a>
                        </div>
                        <ul class="nav navbar-nav">	
                            <li class=" has-mega-menu homedemo">
                                <a href="../index.html" data-i18n="nav.home">首页</a>
                                
                            </li>
                            <li class="active">
                                <a href="../scanco-ct.html" data-i18n="nav.products">SCANCO CT系列产品<i class="fas fa-chevron-down"></i></a>
                                <ul class="sub-menu">
                                    <li>
										<a href="../products/μCT45.html">μCT 45</a>
									</li>
									<li>
										<a href="../products/μCT50.html">μCT 50</a>
									</li>   
									<li>
										<a href="../products/μCT90.html">μCT 90</a>
									</li>
									<li>
										<a href="../products/μCT100.html">μCT 100</a>
									</li>
									<li>
										<a href="../products/μCT100HE.html">μCT 100HE</a>
									</li>
									<li>
										<a href="../products/vivaCT80.html">vivaCT80</a>
									</li>
									<li>
										<a href="../products/XtremeCTII.html">Xtreme CT II</a>
									</li>
                                </ul>
                            </li>

                            <li>
                                <a href="../scan-service.html" data-i18n="nav.scan_service">SCANCO CT扫描检测服务</a>
                            </li>
                            
                            <li>
                                <a href="../about.html" data-i18n="nav.about">关于我们<i class="fas fa-chevron-down"></i></a>
                                <ul class="sub-menu">
                                    <li>
                                        <a href="../about.html" data-i18n="nav.about_company">公司简介</a>
                                    </li>
                                    <li>
                                        <a href="../scanco.html" data-i18n="nav.about_scanco">SCANCO Medical AG</a>
                                    </li>
                                    
                                </ul>
                            </li>
                            <li>
                                <a href="../contact.html" data-i18n="nav.contact">联系我们</a>
                            </li>
                            <!-- 语言下拉 -->
					<li class="nav-item dropdown d-flex align-items-center ms-lg-3">
						<a class="nav-link dropdown-toggle" href="#" id="langDropdown" role="button"
							data-bs-toggle="dropdown" aria-expanded="false">
							<span id="langCurrent">中文</span>
						</a>
						<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="langDropdown">
							<li><a class="dropdown-item lang-opt" data-lang="zh" href="#">中文</a></li>
							<li><a class="dropdown-item lang-opt" data-lang="en" href="#">English</a></li>
						</ul>
					</li>
                        </ul>

                    </div>
                </div>
            </div>
        </div>
        <!-- main header END -->
    </header>
    <!-- Content -->
    <div class="page-content bg-white">
        <!-- inner page banner -->
        <div class="dlab-bnr-inr overlay-black-middle bg-pt" style="background-image:url(../images/website-banner.jpg);">
            <div class="container">
                <div class="dlab-bnr-inr-entry">
                    <h1 class="text-white" data-i18n="product.title">μCT100 柜式 microCT 扫描仪</h1>
					<!-- Breadcrumb row -->
					<!-- <div class="breadcrumb-row">
						<ul class="list-inline">
							<li><a href="index.html">Home</a></li>
							<li>Product Details</li>
						</ul>
					</div> -->
					<!-- Breadcrumb row END -->
                </div>
            </div>
        </div>
        <!-- inner page banner END -->
        <!-- contact area -->
        <div class="section-full content-inner bg-white">
            <!-- Product details -->
            <div class="container woo-entry">
                <div class="row m-b30">
					<div class="col-md-5 col-lg-5 col-sm-12">
						<div class="product-gallery on-show-slider lightgallery" id="lightgallery"> 
							<div id="sync1" class="owl-carousel owl-theme owl-btn-center-lr m-b5 owl-btn-1 primary">
								<div class="item">
									<div class="mfp-gallery">
										<div class="dlab-box">
											<div class="dlab-thum-bx">
												<img src="../images/ct-products/ct-2.png" style="scale: 1.4;" alt="">
												<div class="overlay-bx">
													<div class="overlay-icon">
														<span data-exthumbimage="../images/ct-products/ct-2.png" data-src="../images/ct-products/ct-2.png" class="check-km" title="Image 1 Title will come here">		
															<i class="ti-fullscreen"></i>
														</span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								
								
							</div>
							
						</div>
					</div>
					<div class="col-md-7 col-lg-7 col-sm-12">
						<form method="post" class="cart sticky-top">
							<div class="dlab-post-title">
								<h4 class="post-title"><a href="javascript:void(0);" data-i18n="product.title">μCT100 柜式 microCT 扫描仪</a></h4>
								<p class="m-b10 m-t20" data-i18n="product.summary">μCT50/100/100HE是SCANCO Medical AG公司分辨率最高、样品仓最大的产品，分辨率可达到0.5/1.25/1.5μm，样品仓的尺寸也更大，同时配备了自动换样器（12个位置），可实现批量扫描、无人值守扫描样品。研究对象通常为离体标本（例如骨骼、牙齿、组织、材料）或各种材质的样品，分析其内部结构和力学特性。也可使用造影剂灌注动物，对心血管、泌尿系统、消化系统进行精细成像，可应用于骨科、牙科、肿瘤科、再生医学、心血管科、材料学、地质学及古生物学等领域。</p>
								
							</div>
							<div class="btn-group product-item-size" style="margin-top: 20px;" data-bs-toggle="buttons">
								<button class="site-button orange m-r15" type="button" data-bs-toggle="modal" data-bs-target="#infoModal" data-i18n="cta.consult">立即咨询</button>
							</div>
							<!-- 模态框 -->
							<div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
								<div class="modal-dialog modal-sm">
									<div class="modal-content">
										<div style="flex-direction: column;">
											<!-- <h5 class="modal-title m-d30" >扫码免费领样</h5> -->
											<img src="../images/qrcode.jpg" alt="QR Code" class="modal-img">
										</div>
										
										<div class="modal-footer justify-content-center" style="margin-top: -20px;">
										<button class="site-button orange m-r15" type="button" data-bs-dismiss="modal">关闭</button>
										</div>
									</div>
								</div>
							</div>
						</form>
					</div>
                </div>

                <div class="row">
                    <div class="col-lg-12">
                        <div class="dlab-tabs  product-description tabs-site-button">
                            <ul class="nav nav-tabs ">
                                <li><a data-bs-toggle="tab" href="#web-design-1" class="active" data-i18n="tabs.specs"><i class="fas fa-globe"></i>产品参数</a></li>
                                
                            </ul>
                            <div class="tab-content">
                                
                                <div id="graphic-design-1" class="tab-pane active">
                                                                        
                                    <table class="spec-table">
                                        <caption data-i18n="table.caption"></caption>
                                        <tr><th data-i18n="specs.type.label">类型</th><td>柜式锥形束 microCT、全屏蔽、无需外部屏蔽</td></tr>
                                        <tr><th data-i18n="specs.xray_source.label">X 射线源</th><td>密封 风冷 免维护 光斑尺寸为5 µm  - 30 µm（4 - 18W）<br>20 - 100 kVp （45、55、70、90 kVp预设并校准）</td></tr>
                                        <tr><th data-i18n="specs.detector.label">探测器</th><td>3072×400像素，48 µm间距，CCD</td></tr>
                                        <tr><th data-i18n="specs.resolution.label">分辨率</th><td>&lt;4 µm（10% MTF）<br>1.25 µm - 200 µm标称各向同性（像素尺寸）</td></tr>
                                        <tr><th data-i18n="specs.image_matrix.label">图像矩阵</th><td>512 × 512 - 8192 × 8192 像素</td></tr>
                                        <tr><th data-i18n="specs.max_scan_size.label">最大扫描尺寸</th><td>  105 x 140 mm (ØxL)</td></tr>
                                        <tr><th data-i18n="specs.max_sample_size.label">最大试样尺寸</th><td>  100 x 160 mm (ØxL)</td></tr>
                                        <tr><th data-i18n="specs.power.label">电气</th><td> 100 - 230 V / 50 - 60 Hz    max. 400 W</td></tr>
                                        <tr><th data-i18n="specs.dimensions.label">尺寸</th><td> 130 x 135 x 80 cm（高 x 宽 x 深）</td></tr>
                                        <tr><th data-i18n="specs.weight.label">重量</th><td>390 kg</td></tr>
                                        <tr><td colspan="2" class="optional">可选装</td></tr>
                                        <tr><th>自动进样器</th><td>最多 12 个样品架（取决于最大样品量）</td></tr>
                                        <tr><th>过滤器更换器</th><td>4 个位置</td></tr>
                                        <tr><th>压缩/拉伸装置</th><td></td></tr>
                                        <tr><th>冷却/加热阶段</th><td></td></tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>  
                <div class="row">
                    <div class="col-lg-12">
                        <div class="dlab-tabs  product-description tabs-site-button">
                            <ul class="nav nav-tabs ">
                                <li><a data-bs-toggle="tab" href="#web-design-1" class="active"><i class="fas fa-globe"></i>应用实例</a></li>
                                
                            </ul>
                            <div class="tab-content">
                                <div id="graphic-design-1" class="tab-pane active">
                                    <div class="section-content p-b0">
                                        <div class="row">
                                            <div class="col-lg-3 col-md-6 col-sm-6 m-b30">
                                                <div class="dlab-box"> 
                                                    <div class="dlab-media  dlab-img-effect on rotate no-hover"> <img src="../images/ct-products/product2/example-1.jpg" alt="">
                                                        <div class="dlab-info-has p-a20 no-hover ">

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-3 col-md-6 col-sm-6 m-b30">
                                                <div class="dlab-box"> 
                                                    <div class="dlab-media  dlab-img-effect on rotate no-hover"> <img src="../images/ct-products/product2/example-2.jpg" alt="">

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-3 col-md-6 col-sm-6 m-b30">
                                                <div class="dlab-box"> 
                                                    <div class="dlab-media  dlab-img-effect on rotate no-hover"> <img src="../images/ct-products/product2/example-3.png" alt="">

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-3 col-md-6 col-sm-6 m-b30">
                                                <div class="dlab-box"> 
                                                    <div class="dlab-media dlab-img-effect on rotate no-hover"> <img src="../images/ct-products/product2/example-4.png" alt="">

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div> 
			</div>
            <!-- Product details -->
        </div>
        <!-- contact area  END -->
		
    </div>
    <!-- Content END-->
    <!-- Footer -->
    <div id="footer"></div>
    <!-- Footer End -->
    <button class="scroltop fas fa-chevron-up" ></button>
</div>
<!-- JAVASCRIPT FILES ========================================= -->
<script src="../js/jquery.min.js"></script><!-- JQUERY.MIN JS -->
<script src="../plugins/wow/wow.js"></script><!-- WOW JS -->

<script src="../plugins/bootstrap/js/bootstrap.bundle.min.js"></script><!-- BOOTSTRAP.MIN JS -->
<script src="../plugins/bootstrap-select/bootstrap-select.min.js"></script><!-- FORM JS -->
<script src="../plugins/bootstrap-touchspin/jquery.bootstrap-touchspin.js"></script><!-- FORM JS -->
<script src="../plugins/magnific-popup/magnific-popup.js"></script><!-- MAGNIFIC POPUP JS -->
<script src="../plugins/counter/waypoints-min.js"></script><!-- WAYPOINTS JS -->
<script src="../plugins/counter/counterup.min.js"></script><!-- COUNTERUP JS -->
<script src="../plugins/imagesloaded/imagesloaded.js"></script><!-- IMAGESLOADED -->
<script src="../plugins/masonry/masonry-3.1.4.js"></script><!-- MASONRY -->
<script src="../plugins/masonry/masonry.filter.js"></script><!-- MASONRY -->
<script src="../plugins/owl-carousel/owl.carousel.js"></script><!-- OWL SLIDER -->
<script src="../plugins/lightgallery/js/lightgallery-all.min.js"></script><!-- Lightgallery -->
<script src="../plugins/scroll/scrollbar.min.js"></script><!-- scroll -->
<script src="../js/custom.js"></script><!-- CUSTOM FUCTIONS  -->
<script src="../js/dz.carousel.min.js"></script><!-- SORTCODE FUCTIONS  -->
<script src="../plugins/countdown/jquery.countdown.js"></script><!-- COUNTDOWN FUCTIONS  -->
<script src="../js/dz.ajax.js"></script><!-- CONTACT JS  -->


<script src="../js/jquery.star-rating-svg.js"></script>

<script>
    // 初始化模态框，并禁用背景遮罩层
    var myModal = new bootstrap.Modal(document.getElementById('infoModal'), {
        backdrop: false // 禁用背景遮罩
    });
</script>

<script>
$(document).ready(function() {

  var sync1 = $("#sync1");
  var sync2 = $("#sync2");
  var slidesPerPage = 4; //globaly define number of elements per page
  var syncedSecondary = true;

	  sync1.owlCarousel({
		items : 1,
		slideSpeed : 2000,
		nav: true,
		autoplay: false,
		dots: false,
		loop: true,
		responsiveRefreshRate : 200,
		navText: ['<i class="fas fa-chevron-left"></i>', '<i class="fas fa-chevron-right"></i>'],
	  }).on('changed.owl.carousel', syncPosition);

	  sync2.on('initialized.owl.carousel', function () {
		  sync2.find(".owl-item").eq(0).addClass("current");
		}).owlCarousel({
		items : slidesPerPage,
		dots: false,
		nav: false,
		margin:5,
		smartSpeed: 200,
		slideSpeed : 500,
		slideBy: slidesPerPage, //alternatively you can slide by 1, this way the active slide will stick to the first item in the second carousel
		responsiveRefreshRate : 100
	  }).on('changed.owl.carousel', syncPosition2);

  function syncPosition(el) {
    //if you set loop to false, you have to restore this next line
    //var current = el.item.index;
    
    //if you disable loop you have to comment this block
    var count = el.item.count-1;
    var current = Math.round(el.item.index - (el.item.count/2) - .5);
    
    if(current < 0) {
      current = count;
    }
    if(current > count) {
      current = 0;
    }
    
    //end block

    sync2
      .find(".owl-item")
      .removeClass("current")
      .eq(current)
      .addClass("current");
    var onscreen = sync2.find('.owl-item.active').length - 1;
    var start = sync2.find('.owl-item.active').first().index();
    var end = sync2.find('.owl-item.active').last().index();
    
    if (current > end) {
      sync2.data('owl.carousel').to(current, 100, true);
    }
    if (current < start) {
      sync2.data('owl.carousel').to(current - onscreen, 100, true);
    }
  }
  
  function syncPosition2(el) {
    if(syncedSecondary) {
      var number = el.item.index;
      sync1.data('owl.carousel').to(number, 100, true);
    }
  }
  
  sync2.on("click", ".owl-item", function(e){
		e.preventDefault();
		var number = $(this).index();
		//sync1.data('owl.carousel').to(number, 300, true);
		
		sync1.data('owl.carousel').to(number, 300, true);
		
	});
});

</script>

<script>
	(async function(){
	  const footer = document.getElementById('footer');
	  if(!footer) return;
	  const res = await fetch('../footer.html', { cache: 'no-store' });
	  const html = await res.text();
	  footer.innerHTML = html;
  
	  // ✅ 按当前语言，立即对 footer 子树做一次翻译
	  if (window.i18n && typeof window.i18n.translateSubtree === 'function') {
		window.i18n.translateSubtree(footer);
	  }
  
	  // ✅ 监听全站语言切换事件，只重翻 footer
	  document.addEventListener('langchange', ()=> {
		window.i18n.translateSubtree(footer);
	  });
	})();
  </script>

<script>
	(function(){
	  function get(obj, path){
		return path.split('.').reduce((o,k)=> (o==null?undefined:o[k]), obj);
	  }
	  function debugFooterMissing(){
		const root = document.getElementById('footer') || document.querySelector('footer.site-footer');
		if (!root || !window.i18n || !i18n.dicts) return;
		const {site, data} = i18n.dicts;
		const miss = [];
		root.querySelectorAll('[data-i18n],[data-i18n-html]').forEach(el=>{
		  const key = el.getAttribute('data-i18n-html') || el.getAttribute('data-i18n');
		  const val = get(data, key) ?? get(site, key);
		  if (val == null) {
			el.style.outline = '2px solid #ff4d4f';
			miss.push(key);
		  }
		});
		if (miss.length) {
		  console.warn('[i18n] Missing footer keys:', Array.from(new Set(miss)));
		} else {
		  console.log('[i18n] Footer OK: all keys resolved.');
		}
	  }
	  // 初次与切换时都检查
	  document.addEventListener('DOMContentLoaded', debugFooterMissing);
	  document.addEventListener('langchange', debugFooterMissing);
	})();
	</script>
	

<script>
	(function () {
	  function getLang(){
		const s = localStorage.getItem('lang');
		if (s) return s;
		const n = (navigator.language||'zh').toLowerCase();
		return n.startsWith('zh') ? 'zh' : 'en';
	  }
	  async function loadJSON(p){
		const r = await fetch(p + (/\?/.test(p)?'&':'?') + 'v=' + Date.now());
		if (!r.ok) throw new Error('Load failed: ' + p);
		return r.json();
	  }
	  // 安全取值（支持 a.b.c 与数组下标 a.b.0.c）
	  function get(obj, path){
		return path.split('.').reduce((o,k)=>{
		  if(o==null) return undefined;
		  return o[k];
		}, obj);
	  }
	  // 翻译某个子树：支持 data-i18n 与 data-i18n-html
	  function translateSubtree(root, dicts){
		const { site, data } = dicts;
		root.querySelectorAll('[data-i18n]').forEach(el=>{
		  const key = el.getAttribute('data-i18n');
		  const val = get(data, key) ?? get(site, key);
		  if (val != null) el.textContent = val;
		});
		root.querySelectorAll('[data-i18n-html]').forEach(el=>{
		  const key = el.getAttribute('data-i18n-html');
		  const val = get(data, key) ?? get(site, key);
		  if (val != null) el.innerHTML = val;  // 仅用于可信字典（如地址里的 <br/>）
		});
		// 翻译属性的场景（如 alt / title / placeholder）
		root.querySelectorAll('[data-i18n-attr]').forEach(el=>{
		  const key = el.getAttribute('data-i18n');
		  if(!key) return;
		  const val = get(data, key) ?? get(site, key);
		  if (val == null) return;
		  const attrs = el.getAttribute('data-i18n-attr').split('|');
		  attrs.forEach(a => el.setAttribute(a.trim(), val));
		});
	  }
	
	  async function loadDicts(lang){
		const [site, data] = await Promise.all([
		//   loadJSON('/content/site.json').catch(()=>({})),
		  loadJSON(`/content/products/μCT100.${lang}.json`).catch(()=>({})),
		  loadJSON(`/content/footer.${lang}.json`).catch(()=>({})),
		]);
		return { site, data, lang };
	  }
	
	  // ---- 导出全局 i18n（无刷新切换）----
	  const i18n = {
		lang: getLang(),
		dicts: { site:{}, data:{} },
		async init(){
		  this.dicts = await loadDicts(this.lang);
		  translateSubtree(document, this.dicts); // 首次全页翻译
		},
		async setLang(lang){
		  this.lang = lang;
		  localStorage.setItem('lang', lang);
		  this.dicts = await loadDicts(lang);
		  translateSubtree(document, this.dicts); // 无刷新整页翻译
		  document.dispatchEvent(new CustomEvent('langchange', { detail: { lang } }));
		},
		translateSubtree(root){ translateSubtree(root, this.dicts); }
	  };
	  window.i18n = i18n;          // 给第2段脚本使用
	  window.__setLang = (l)=>i18n.setLang(l); // 兼容你之前的 __setLang
	
	  // 初始化
	  i18n.init().catch(console.error);
	})();
	</script>

<script>
	(function () {
	  function getStoredLang() {
		// 兼容两种 key
		return localStorage.getItem('lang')
			|| localStorage.getItem('site_lang')
			|| ((navigator.language || 'zh').toLowerCase().startsWith('zh') ? 'zh' : 'en');
	  }
  
	  function setStoredLang(lang) {
		localStorage.setItem('lang', lang);
		localStorage.setItem('site_lang', lang); // 保持与旧代码兼容
	  }
  
	  function setLabel() {
		var cur = getStoredLang();
		var el1 = document.getElementById('langLabel');   // 你现在脚本用的
		var el2 = document.getElementById('langCurrent'); // 我之前示例里的
		if (el1) el1.textContent = (cur === 'zh' ? '中文' : 'EN');
		if (el2) el2.textContent = (cur === 'zh' ? '中文' : 'English');
		// 菜单内高亮（两种写法都支持）
		document.querySelectorAll('.dropdown-item[data-set-lang], .lang-opt[data-lang]')
		  .forEach(function (a) {
			var v = a.getAttribute('data-set-lang') || a.getAttribute('data-lang');
			a.classList.toggle('active', v === cur);
		  });
	  }
  
	  function switchLang(lang) {
		if (!lang) return;
		if (window.i18n && typeof window.i18n.setLang === 'function') {
		  // 无刷新切换
		  window.i18n.setLang(lang).then(setLabel).catch(console.error);
		} else {
		  // 未集成 i18n：写入兼容键并回退刷新
		  setStoredLang(lang);
		  setLabel();
		  location.reload();
		}
	  }
  
	  function bindHandlers() {
		// 同时支持两种写法
		var nodes = document.querySelectorAll('.dropdown-item[data-set-lang], .lang-opt[data-lang]');
		nodes.forEach(function (a) {
		  a.addEventListener('click', function (e) {
			e.preventDefault();
			var lang = a.getAttribute('data-set-lang') || a.getAttribute('data-lang');
			setStoredLang(lang);
			switchLang(lang);
		  });
		});
	  }
  
	  // 保证 DOM 准备好再绑定
	  if (document.readyState === 'loading') {
		document.addEventListener('DOMContentLoaded', function () {
		  bindHandlers();
		  setLabel();
		});
	  } else {
		bindHandlers();
		setLabel();
	  }
  
	  // 语言切换事件后同步 label（若别处触发）
	  document.addEventListener('langchange', setLabel);
	})();
  </script>
 
</body>
</html>
